{
  "hash": "e4d3cc28b6155624dbe47b605f248a53",
  "result": {
    "markdown": "---\ntitle: \"Refugees Analysis\"\ndescription: \"Tidytuesday 2023-08-22\"\nauthor: \"Juha Päällysaho\"\ndate: \"2023-11-13\"\ndate-modified: \"2023-11-23\"\nexecute:\n  echo: true\n  warning: false\ndraft: false\n---\n\n\n# data prep\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Option 1: tidytuesdayR package\n## install.packages(\"tidytuesdayR\")\nlibrary(tidyverse)\n```\n:::\n\n\n## read data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(\"2023-08-22\")\ndata_raw <- tuesdata |> pluck(1)\n```\n:::\n\n\n## skim the data\n\ncheck data range\nmissing data from origin_continent\noip and hst are completely missing, ill remove them from dateset\ndate values are from 2010 to 2022\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskimr::skim(data_raw)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |         |\n|:------------------------|:--------|\n|Name                     |data_raw |\n|Number of rows           |64809    |\n|Number of columns        |16       |\n|_______________________  |         |\n|Column type frequency:   |         |\n|character                |6        |\n|numeric                  |10       |\n|________________________ |         |\n|Group variables          |None     |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|coo_name      |         0|             1|   4|  52|     0|      210|          0|\n|coo           |         0|             1|   3|   3|     0|      210|          0|\n|coo_iso       |         0|             1|   3|   3|     0|      210|          0|\n|coa_name      |         0|             1|   4|  52|     0|      189|          0|\n|coa           |         0|             1|   3|   3|     0|      189|          0|\n|coa_iso       |         0|             1|   3|   3|     0|      189|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable     | n_missing| complete_rate|      mean|        sd|   p0|     p25|   p50|    p75|     p100|hist  |\n|:-----------------|---------:|-------------:|---------:|---------:|----:|-------:|-----:|------:|--------:|:-----|\n|year              |         0|          1.00|   2016.39|      3.72| 2010| 2013.00|  2017|   2020|     2022|▆▅▇▅▇ |\n|refugees          |         0|          1.00|   3440.01|  55255.97|    0|    5.00|    12|     88|  3737369|▇▁▁▁▁ |\n|asylum_seekers    |         0|          1.00|    564.17|   7455.73|    0|    0.00|     8|     57|   940668|▇▁▁▁▁ |\n|returned_refugees |         0|          1.00|     73.48|   2460.28|    0|    0.00|     0|      0|   381275|▇▁▁▁▁ |\n|idps              |         0|          1.00|   7088.70| 163174.63|    0|    0.00|     0|      0|  8252788|▇▁▁▁▁ |\n|returned_idps     |         0|          1.00|    706.16|  23654.24|    0|    0.00|     0|      0|  2134349|▇▁▁▁▁ |\n|stateless         |         0|          1.00|    756.63|  19980.22|    0|    0.00|     0|      0|   955399|▇▁▁▁▁ |\n|ooc               |         0|          1.00|    437.50|  20182.68|    0|    0.00|     0|      0|  3206577|▇▁▁▁▁ |\n|oip               |     64709|          0.00| 196611.16| 419586.96|    5| 8218.25| 23165| 164760|  2453862|▇▁▁▁▁ |\n|hst               |     58845|          0.09|   6264.66| 210090.46|    0|    0.00|     0|      0| 15209720|▇▁▁▁▁ |\n:::\n:::\n\n\n\n##  continents data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncountries <- read_csv(\"https://gist.githubusercontent.com/fogonwater/bc2b98baeb2aa16b5e6fbc1cf3d7d545/raw/6fd2951260d8f171181a45d2f09ee8b2c7767330/countries.csv\")\n\ncountries_less <- countries |> select(country_code3, continent_name)\n```\n:::\n\n\n## enrich \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- data_raw |>\n  select(!c(oip, hst)) |>\n  mutate(year = as_date(parse_date_time(year, \"%Y\")), .before = 1) |>\n  rename(\n    origin_country = coo_name,\n    destination_country = coa_name,\n    others_of_concern = ooc\n  ) |>\n  left_join(countries_less, by = join_by(\"coo_iso\" == \"country_code3\")) |>\n  left_join(countries_less, by = join_by(\"coa_iso\" == \"country_code3\")) |>\n  rename(\n    origin_continent = continent_name.x,\n    destination_continent = continent_name.y\n  )\n\ndf |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 64,809\nColumns: 16\n$ year                  <date> 2010-01-01, 2010-01-01, 2010-01-01, 2010-01-01,…\n$ origin_country        <chr> \"Afghanistan\", \"Iran (Islamic Rep. of)\", \"Iraq\",…\n$ coo                   <chr> \"AFG\", \"IRN\", \"IRQ\", \"PAK\", \"ARE\", \"CHI\", \"GAZ\",…\n$ coo_iso               <chr> \"AFG\", \"IRN\", \"IRQ\", \"PAK\", \"EGY\", \"CHN\", \"PSE\",…\n$ destination_country   <chr> \"Afghanistan\", \"Afghanistan\", \"Afghanistan\", \"Af…\n$ coa                   <chr> \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"ALB\", \"ALB\", \"ALB\",…\n$ coa_iso               <chr> \"AFG\", \"AFG\", \"AFG\", \"AFG\", \"ALB\", \"ALB\", \"ALB\",…\n$ refugees              <dbl> 0, 30, 6, 6398, 5, 6, 5, 5, 49, 5, 5, 0, 0, 6, 6…\n$ asylum_seekers        <dbl> 0, 21, 0, 9, 0, 0, 0, 0, 20, 0, 0, 5, 10, 92, 5,…\n$ returned_refugees     <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ idps                  <dbl> 351907, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ returned_idps         <dbl> 3366, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ stateless             <dbl> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ others_of_concern     <dbl> 838250, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ origin_continent      <chr> \"Asia\", \"Asia\", \"Asia\", \"Asia\", \"Africa\", \"Asia\"…\n$ destination_continent <chr> \"Asia\", \"Asia\", \"Asia\", \"Asia\", \"Europe\", \"Europ…\n```\n:::\n:::\n\n\n## data to long format\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngroup_to_long <- function(.data, ...) {\n  .data |>\n    group_by(year, ...) |>\n    summarise(across(where(is.double), \\(x) sum(x))) |>\n    pivot_longer(refugees:others_of_concern)\n}\n\nrefugees_long <- group_to_long(df)\nrefugees_long_origin <- group_to_long(df, origin_continent)\n\nrefugees_long_destination <- group_to_long(df, destination_continent)\n```\n:::\n\n\n## get colorspace \n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(colorspace)\nqualitative_hcl(6)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"#E16A86\" \"#B88A00\" \"#50A315\" \"#00AD9A\" \"#009ADE\" \"#C86DD7\"\n```\n:::\n:::\n\n\n# high level analysis\n\n## notes \n\norigin and destinations countries which general direction of refugees movement.\nrefugees group are split to different sub classes, like asylum seekers, internally displaced persons and stateless person \nrefugee and internally displaced person also have returned level\n\n## focus\n\ncheck which refugees group gives interesting analysis layer\n\n\n\n\n\n## global level\n\n\n::: {.cell}\n\n```{.r .cell-code}\nscale_y_mil <- function() {\n  scale_y_continuous(labels = scales::label_number(scale = 1 / 1000000, big.mark = \" \", suffix = \"M\"))\n}\n\nscale_x_yrs <- function() {\n  scale_x_date(date_labels = \"%y\", date_breaks = \"4 years\")\n}\n\n\nrefugees_long |>\n  ggplot(aes(year, value, fill = name)) +\n  geom_col() +\n  scale_y_mil() +\n  scale_x_yrs() +\n  labs(\n    title = \"has there been a change in refugees on global level?\",\n    subtitle = \"2010 - 2023\"\n  ) +\n  scale_fill_discrete_qualitative()\n```\n\n::: {.cell-output-display}\n![](refugees_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n## continent level\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_continents <- function(.data, .title = \"value\", .subtitle = \"value2\", facet_var = origin_continent, .name = name) {\n  .data |>\n    ggplot(aes(year, value, fill = {{ .name }})) +\n    geom_col() +\n    scale_x_yrs() +\n    scale_y_mil() +\n    labs(\n      title = .title,\n      subtitle = .subtitle\n    ) +\n    scale_fill_discrete_qualitative() +\n    facet_grid(cols = vars({{ facet_var }}))\n}\n\nplot_continents(\n  refugees_long_origin, \"How the refugee level change between the continents?\",\n  \"Origin country of refugees\"\n)\n```\n\n::: {.cell-output-display}\n![](refugees_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_continents(\n  refugees_long_destination, \"How the refugee level change between the continents?\",\n  \"Destination country of refugees\", destination_continent\n)\n```\n\n::: {.cell-output-display}\n![](refugees_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n## refugees between the continets\n\nthere seems to be intra continent refugees, next ill check how between the continets and domestic differ\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf2 <- df |>\n  mutate(between_continents = if_else(origin_continent != destination_continent, TRUE, FALSE), .before = 1)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf2 |>\n  filter(between_continents == TRUE) |>\n  group_to_long(destination_continent) |>\n  plot_continents(\"what is the destination of Between continents refugees\", \"\", destination_continent)\n```\n\n::: {.cell-output-display}\n![](refugees_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf2 |>\n  filter(between_continents == TRUE) |>\n  group_to_long(origin_continent) |>\n  plot_continents(\n    \"where the Between continents refugees originate from?\", \"\",\n    origin_continent\n  )\n```\n\n::: {.cell-output-display}\n![](refugees_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\n\n\n# deep dive south america, between continets\n\nsouth america has interesting change, and I'm not familiar with the continent. I'll try to check if data gives interesting elements\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsouthAmerica <- df2 |>\n  filter(origin_continent == \"South America\", between_continents == TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsouthAmericaSummarized <- southAmerica |>\n  select(-year) |>\n  group_by(origin_country) |>\n  summarise(across(where(is.double), list(sum = sum)))\n\n\nsouthAmericaSummarized |>\n  gt::gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"iqqqggrzon\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#iqqqggrzon table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#iqqqggrzon thead, #iqqqggrzon tbody, #iqqqggrzon tfoot, #iqqqggrzon tr, #iqqqggrzon td, #iqqqggrzon th {\n  border-style: none;\n}\n\n#iqqqggrzon p {\n  margin: 0;\n  padding: 0;\n}\n\n#iqqqggrzon .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#iqqqggrzon .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#iqqqggrzon .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#iqqqggrzon .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#iqqqggrzon .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#iqqqggrzon .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#iqqqggrzon .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#iqqqggrzon .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#iqqqggrzon .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#iqqqggrzon .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#iqqqggrzon .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#iqqqggrzon .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#iqqqggrzon .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#iqqqggrzon .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#iqqqggrzon .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iqqqggrzon .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#iqqqggrzon .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#iqqqggrzon .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#iqqqggrzon .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iqqqggrzon .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#iqqqggrzon .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iqqqggrzon .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#iqqqggrzon .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iqqqggrzon .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#iqqqggrzon .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#iqqqggrzon .gt_left {\n  text-align: left;\n}\n\n#iqqqggrzon .gt_center {\n  text-align: center;\n}\n\n#iqqqggrzon .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#iqqqggrzon .gt_font_normal {\n  font-weight: normal;\n}\n\n#iqqqggrzon .gt_font_bold {\n  font-weight: bold;\n}\n\n#iqqqggrzon .gt_font_italic {\n  font-style: italic;\n}\n\n#iqqqggrzon .gt_super {\n  font-size: 65%;\n}\n\n#iqqqggrzon .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#iqqqggrzon .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#iqqqggrzon .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#iqqqggrzon .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#iqqqggrzon .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#iqqqggrzon .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#iqqqggrzon .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"origin_country\">origin_country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"refugees_sum\">refugees_sum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"asylum_seekers_sum\">asylum_seekers_sum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"returned_refugees_sum\">returned_refugees_sum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"idps_sum\">idps_sum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"returned_idps_sum\">returned_idps_sum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stateless_sum\">stateless_sum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"others_of_concern_sum\">others_of_concern_sum</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Argentina</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">3045</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">6788</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">20</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Bolivia (Plurinational State of)</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">4767</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">6888</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Brazil</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">16218</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">127858</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">3574</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Chile</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">8302</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">25238</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Colombia</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">510459</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">383772</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">40</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">45253</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Ecuador</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">15796</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">176299</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">24525</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">French Guiana</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">11</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">238</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Guyana</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">6193</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">4578</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Paraguay</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">1017</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">3537</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Peru</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">32663</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">64606</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Suriname</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">250</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">635</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Uruguay</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">1028</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">2470</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">0</td></tr>\n    <tr><td headers=\"origin_country\" class=\"gt_row gt_left\">Venezuela (Bolivarian Republic of)</td>\n<td headers=\"refugees_sum\" class=\"gt_row gt_right\">577459</td>\n<td headers=\"asylum_seekers_sum\" class=\"gt_row gt_right\">1422868</td>\n<td headers=\"returned_refugees_sum\" class=\"gt_row gt_right\">5</td>\n<td headers=\"idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"returned_idps_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"stateless_sum\" class=\"gt_row gt_right\">0</td>\n<td headers=\"others_of_concern_sum\" class=\"gt_row gt_right\">230430</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nselect refugees and asylum seekers since the other refugree classes are mostly zeros\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsouthAmerica |>\n  group_to_long(origin_country) |>\n  filter(name %in% c(\"refugees\", \"asylum_seekers\")) |>\n  plot_continents(\"how south america refugees have changed?\", \"\", facet_var = name, .name = origin_country)\n```\n\n::: {.cell-output-display}\n![](refugees_files/figure-html/unnamed-chunk-16-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "refugees_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}